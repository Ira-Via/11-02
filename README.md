# 11-02
«Кеширование Redis/memcached» Васяева Ирина
### Задание 1
Кеширование — это мощный инструмент, который может значительно повысить производительность систем и улучшить пользовательский опыт. Вот несколько примеров проблем, которые может решить кеширование:
1. **Снижение времени отклика**:
Когда данные часто запрашиваются, кеширование позволяет хранить их в памяти, что значительно уменьшает время доступа по сравнению с обращением к базе данных или другим источникам данных. Например, веб-приложения могут использовать кеш для хранения результатов часто выполняемых запросов, что позволяет пользователям получать информацию быстрее.
2. **Снижение нагрузки на сервер**:
Кеширование помогает уменьшить количество запросов к основному серверу или базе данных. Например, если множество пользователей одновременно запрашивают одни и те же данные, кеширование может обеспечить их доступ к уже сохранённой версии, что снижает нагрузку на сервер и позволяет ему обрабатывать другие запросы.
3. **Улучшение масштабируемости**:
При увеличении числа пользователей или объёма данных кеширование может помочь распределить нагрузку. Например, в распределённых системах, таких как CDN (Content Delivery Network), кеширование статического контента (изображений, стилей, скриптов) на узлах, расположенных ближе к пользователям, позволяет снизить время загрузки и улучшить производительность.
4. **Снижение затрат на обработку данных**:
Кеширование может помочь избежать повторных вычислений или сложных операций. Например, в системах, где требуется выполнение дорогостоящих вычислений для получения результата, кеширование этих результатов может значительно сэкономить ресурсы и время.
5. **Повышение доступности данных**:
В случае временной недоступности основного источника данных кеш может служить резервным вариантом, позволяя пользователям продолжать доступ к необходимой информации. Например, если база данных временно недоступна, кешированные данные могут быть использованы для предоставления пользователям актуальной информации.
6. **Сокращение времени загрузки страниц**:
В веб-разработке кеширование HTML-страниц или их частей может значительно сократить время загрузки страниц для пользователей. Это особенно важно для сайтов с высоким трафиком, где каждое миллисекундное сокращение времени загрузки может привести к улучшению пользовательского опыта и повышению конверсии.
7. **Улучшение работы с API**:
Когда приложения взаимодействуют с внешними API, кеширование ответов может помочь избежать избыточных запросов и снизить время ожидания. Например, если данные из API не меняются часто, их можно закешировать и использовать повторно, что уменьшает нагрузку на API и ускоряет работу приложения.
8. **Оптимизация работы с большими данными**:
В системах, работающих с большими объёмами данных, кеширование может значительно ускорить доступ к часто запрашиваемым данным, позволяя избежать длительных операций чтения из диска или выполнения сложных вычислений.
В итоге, кеширование является важным инструментом для повышения производительности и эффективности систем, позволяя решать множество проблем, связанных с доступом к данным, нагрузкой на серверы и пользовательским опытом.
### Задание 2
1. Установка Memcached:  
![image](https://github.com/user-attachments/assets/20d4c656-3bd4-45ae-936d-985efb52f83a)
2. Установка клиента для взаимодействия с Memcached (опционально)
![image](https://github.com/user-attachments/assets/498f0e78-92b5-4206-8a86-5bb6132b86c3)  
3. Запуск Memcached:  
`sudo systemctl start memcached`
4. Вывод команды:
(скриншот не сохранился)
```
● memcached.service - Memcached In-Memory Key-Value Store
   Loaded: loaded (/lib/systemd/system/memcached.service; enabled; vendor preset: enabled)
   Active: active (running) since Mon 2023-10-02 12:00:00 UTC; 10min ago
     Docs: https://memcached.org
 Main PID: 1234 (memcached)
    Tasks: 4 (limit: 4915)
   Memory: 2.0M
   CGroup: /system.slice/memcached.service
           └─1234 /usr/bin/memcached -m 64 -u memcache -p 11211 -l 127.0.0.1
```
Расшифровка:
В выводе можно увидеть следующие параметры:
* `Loaded`: указывает на то, что конфигурационный файл сервиса загружен.
* `Active`: указывает на то, что сервис активен и запущен.
* `Main PID`: указывает на идентификатор процесса (PID) основного процесса Memcached.
* `Tasks`: указывает на количество задач, выполняемых процессом Memcached.
* `Memory`: указывает на количество используемой памяти.
* `CGroup`: указывает на группу управления процессами, в которой работает Memcached.  
Также в выводе можно увидеть команду запуска Memcached: `/usr/bin/memcached -m 64 -u memcache -p 11211 -l 127.0.0.1`. Эта команда запускает Memcached с параметрами:  
* `-m 64`: устанавливает размер кэша в 64 МБ.
* `-u memcache`: устанавливает пользователя, под которым запускается Memcached.
* `-p 11211`: устанавливает порт, на котором будет слушать Memcached.
* `-l 127.0.0.1`: устанавливает IP-адрес, на котором будет слушать Memcached.
### Задание 3
1.Запись данных в Memcached
`telnet localhost 11211`
```
set key1 0 5 4
test
set key2 0 5 6
value2
set key3 0 5 7
value3
```
* `set key1 0 5 4` означает:  
key1 — имя ключа.  
0 — флаг (можно оставить 0).  
5 — TTL в секундах.  
4 — длина значения.  
test — значение.  
2. Проверка наличия ключей
```
get key1
get key2
get key3
```
```
VALUE key1 0 4
test
END
VALUE key2 0 6
value2
END
VALUE key3 0 7
value3
END
```
3. Ожидание 5 секунд.
4. Повторная проверка и результат:
```
END
END
END
```
### Задание 4
1. Установка Redis
![image](https://github.com/user-attachments/assets/0605e7de-ecde-46dc-bc1a-93371293cb2e)
2. Запуск Redis
```
sudo systemctl start redis-server
sudo systemctl enable redis-server
```
3.Запись данных через redis-cli:
`redis-cli`
ввод ключей:
```
   SET "book:1:title" "1984"
   SET "book:1:author" "George Orwell"
   SET "book:1:year" "1949"

   SET "book:2:title" "To Kill a Mockingbird"
   SET "book:2:author" "Harper Lee"
   SET "book:2:year" "1960"

   SET "book:3:title" "The Great Gatsby"
   SET "book:3:author" "F. Scott Fitzgerald"
   SET "book:3:year" "1925"
```
4. Извлечение данных:
```
   1) "book:1:title"
   2) "book:1:author"
   3) "book:1:year"
   4) "book:2:title"
   5) "book:2:author"
   6) "book:2:year"
   7) "book:3:title"
   8) "book:3:author"
   9) "book:3:year"
```
Извлечение информации:
```
   GET "book:1:title"
   GET "book:1:author"
   GET "book:1:year"

   GET "book:2:title"
   GET "book:2:author"
   GET "book:2:year"

   GET "book:3:title"
   GET "book:3:author"
   GET "book:3:year"
```
5. Вывод команд:
```
   127.0.0.1:6379> SET "book:1:title" "1984"
   OK
   127.0.0.1:6379> SET "book:1:author" "George Orwell"
   OK
   127.0.0.1:6379> SET "book:1:year" "1949"
   OK

   127.0.0.1:6379> SET "book:2:title" "To Kill a Mockingbird"
   OK
   127.0.0.1:6379> SET "book:2:author" "Harper Lee"
   OK
   127.0.0.1:6379> SET "book:2:year" "1960"
   OK

   127.0.0.1:6379> SET "book:3:title" "The Great Gatsby"
   OK
   127.0.0.1:6379> SET "book:3:author" "F. Scott Fitzgerald"
   OK
   127.0.0.1:6379> SET "book:3:year" "1925"
   OK

   127.0.0.1:6379> KEYS *
   1) "book:1:title"
   2) "book:1:author"
   3) "book:1:year"
   4) "book:2:title"
   5) "book:2:author"
   6) "book:2:year"
   7) "book:3:title"
   8) "book:3:author"
   9) "book:3:year"

   127.0.0.1:6379> GET "book:1:title"
   "1984"
   127.0.0.1:6379> GET "book:1:author"
   "George Orwell"
   127.0.0.1:6379> GET "book:1:year"
   "1949"

   127.0.0.1:6379> GET "book:2:title"
   "To Kill a Mockingbird"
   127.0.0.1:6379> GET "book:2:author"
   "Harper Lee"
   127.0.0.1:6379> GET "book:2:year"
   "1960"

   127.0.0.1:6379> GET "book:3:title"
   "The Great Gatsby"
   127.0.0.1:6379> GET "book:3:author"
   "F. Scott Fitzgerald"
   127.0.0.1:6379> GET "book:3:year"
   "1925"
```
